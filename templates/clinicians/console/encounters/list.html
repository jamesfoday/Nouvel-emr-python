{% extends "base.html" %}
{% block content %}
<div class="mx-auto mt-6 w-full max-w-7xl px-3 sm:px-6">
  <div class="rounded-2xl bg-[#EAF5ED] p-1">
    <div class="rounded-2xl bg-white p-4 sm:p-6 shadow">
      <div class="mb-4 flex items-center justify-between">
        <a href="{% url 'encounters_ui:create' clinician.pk %}"
           class="inline-flex items-center gap-2 rounded-xl bg-gray-100 px-3 py-1.5 text-sm font-medium text-gray-800">
          Create <span class="grid h-5 w-5 place-items-center rounded-full bg-emerald-600 text-white">+</span>
        </a>
        <h1 class="text-lg sm:text-xl font-semibold text-gray-700">Encounters</h1>
        <div class="w-28"></div>
      </div>

      <div class="rounded-2xl bg-[#F4FAF5] min-h-[420px] p-4 sm:p-6">
        <div class="divide-y">
          {% for e in encounters %}
          <a href="{% url 'encounters_ui:view' clinician.pk e.pk %}" class="flex items-center gap-3 px-1 py-3 hover:bg-white/40 rounded-lg">
            <div class="flex-1 min-w-0">
              <div class="font-semibold text-gray-700 truncate">{{ e.patient.full_name }} · {{ e.reason|default:"Encounter" }}</div>
              <div class="text-sm text-gray-500 truncate">{{ e.start|date:"d M Y, H:i" }} · {{ e.get_status_display }}</div>
            </div>
            <div class="text-xs text-gray-600">{{ e.location }}</div>
          </a>
          {% empty %}
          <div class="px-4 py-14 sm:py-20 text-center text-gray-500">No encounters yet.</div>
          {% endfor %}
        </div>
      </div>

      <div class="mt-8">
        <a href="{% url 'clinicians_ui:dashboard' clinician.pk %}" class="inline-flex items-center gap-2 text-gray-700">
          <span class="grid h-8 w-8 place-items-center rounded-full bg-gray-100">&lsaquo;</span> Back
        </a>
      </div>
    </div>
  </div>
</div>
{% endblock %}

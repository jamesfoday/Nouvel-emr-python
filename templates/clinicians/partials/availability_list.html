{# We receive days=[{idx,label,windows}] #}
<div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3">
  {% for d in days %}
    <div class="rounded-2xl border border-black/5 bg-white p-3">
      <div class="flex items-center justify-between">
        <div class="text-sm font-semibold text-gray-800">{{ d.label }}</div>
      </div>

      <ul class="mt-2 space-y-2">
        {% for w in d.windows %}
          <li
            class="rounded-xl border border-black/5 bg-white/70 px-3 py-2 text-sm text-gray-800 flex items-center justify-between hover:bg-white cursor-pointer"
            hx-get="{% url 'clinicians_ui:availability_edit' clinician.pk w.pk %}"
            hx-target="#availability-dialog"
            hx-swap="innerHTML">
            <div class="min-w-0">
              <div class="truncate">
                {{ w.start_time|time:"H:i" }}–{{ w.end_time|time:"H:i" }}
                <span class="text-gray-500">
                  · {{ w.slot_minutes }} min{% if not w.is_active %} · inactive{% endif %}
                </span>
              </div>
            </div>
            <div class="flex items-center gap-2">
              <a hx-get="{% url 'clinicians_ui:availability_edit' clinician.pk w.pk %}"
                 hx-target="#availability-dialog"
                 hx-swap="innerHTML"
                 onclick="event.stopPropagation()"
                 class="rounded-lg bg-gray-100 px-2 py-1 text-xs hover:bg-gray-200 cursor-pointer">Edit</a>

              <form method="post"
                    hx-post="{% url 'clinicians_ui:availability_delete' clinician.pk w.pk %}"
                    hx-target="#availability-list"
                    hx-swap="innerHTML"
                    onclick="event.stopPropagation()">
                {% csrf_token %}
                <button class="rounded-lg bg-red-600 text-white px-2 py-1 text-xs hover:brightness-95 cursor-pointer">Delete</button>
              </form>
            </div>
          </li>
        {% empty %}
          <li class="text-sm text-gray-500">No windows.</li>
        {% endfor %}
      </ul>
    </div>
  {% endfor %}
</div>

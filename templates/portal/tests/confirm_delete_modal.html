{# templates/portal/tests/confirm_delete_modal.html #}
<div class="portal-modal-root fixed inset-0 z-50">
  <div class="absolute inset-0 bg-black/30"
       onclick="closePortalModal(this)"></div>

  <div class="absolute inset-0 grid place-items-center p-4">
    <div class="w-full max-w-md rounded-2xl border border-white/30 bg-white/95 shadow-2xl backdrop-blur p-5">
      <h2 class="text-lg font-semibold text-gray-900">Remove this upload?</h2>
      <p class="mt-2 text-sm text-gray-600">
        It will no longer appear in your portal, but your clinician may still see it.
      </p>
      <form
        method="post"
        class="mt-4 flex items-center justify-end gap-2"
        action="{% url 'portal_ui:tests_my_uploads_delete' er.id %}">
        {% csrf_token %}
        <button
          type="button"
          class="rounded-xl bg-gray-100 px-3 py-1.5 text-sm font-semibold text-gray-800"
          onclick="closePortalModal(this)">
          Cancel
        </button>
        <button
          type="submit"
          class="rounded-xl bg-red-600 px-3 py-1.5 text-sm font-semibold text-white hover:brightness-95">
          Delete
        </button>
      </form>
    </div>
  </div>
</div>

<script>
  function closePortalModal(el) {
    const root = el ? el.closest('.portal-modal-root') : document.querySelector('.portal-modal-root');
    if (root) root.remove();
    document.body.classList.remove('overflow-hidden');
  }
  (function () {
    document.body.classList.add('overflow-hidden');
  })();
</script>
